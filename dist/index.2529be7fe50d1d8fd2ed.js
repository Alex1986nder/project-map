(()=>{"use strict";var e={};var l='\n<h1>Отзыв</h1>\n<ul style = "padding: 0; list-style-type: none;">\n<li><input id = "myName" placeholder="Укажите Ваше имя"></li>\n<li><input id = "place" placeholder="Укажите место"></li>\n<li><textarea id = "review" style = "resize: none;" placeholder="Оставьте отзыв"></textarea>\n<li><button id = "btn">Добавить</button></li>\n<ul>\n';function c(t,e){var r=typeof Symbol!=="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=s(t))||e&&t&&typeof t.length==="number"){if(r)t=r;var n=0;var o=function e(){};return{s:o,n:function e(){if(n>=t.length)return{done:true};return{done:false,value:t[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function e(){r=r.call(t)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r["return"]!=null)r["return"]()}finally{if(a)throw l}}}}function s(e,t){if(!e)return;if(typeof e==="string")return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}function n(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}ymaps.ready(t);var u,o,d,v;function t(){u=new ymaps.Map("map",{center:[55.752296,37.602629],zoom:14},{balloonMinWidth:250});u.events.add("click",function(e){var t=e.get("coords");u.balloon.open(t,{content:'<div id = "review__list"; style = "height: 100px; overflow: scroll;"></div>'+l})});v=new ymaps.Clusterer({groupByCoordinates:true,clusterDisableClickZoom:true,clusterOpenBalloonOnClick:false});v.events.add("click",function(e){var t=e.get("target").geometry.getCoordinates();n(t)});var e=JSON.parse(localStorage.getItem("reviews"))||[];t();function t(){e.forEach(function(e){a(e.coords)})}var i=localStorage.getItem("reviews")?JSON.parse(localStorage.getItem("reviews")):[];document.body.addEventListener("click",r);u.events.add("click",function(e){return d=e.get("coords")});function r(e){if(e.target.id==="btn"){var t=document.querySelector("#myName");var r=document.querySelector("#place");var n=document.querySelector("#review");var o={coords:d,reviews:{name:t.value,place:r.value,review:n.value}};i.push(o);localStorage.setItem("reviews",JSON.stringify(i));a(d);u.balloon.close()}}function n(e,t){t=JSON.parse(localStorage.getItem("reviews"))||[];var r="";var n=c(t),o;try{for(n.s();!(o=n.n()).done;){var i=o.value;if(JSON.stringify(i.coords)===JSON.stringify(e)){r+="<div><b>".concat(i.reviews.name,"</b>[").concat(i.reviews.place,"]</div><div>").concat(i.reviews.review,"</div>");u.balloon.open(i.coords,{content:'<div id = "review__list"; style = "height: 100px; overflow: scroll;"><div>'.concat(r,"</div></div>")+l});console.log(r)}}}catch(e){n.e(e)}finally{n.f()}}function a(e,t){o=new ymaps.Placemark(e);o.events.add("click",function(e){var t=e.get("target").geometry.getCoordinates();n(t)});v.add(o);u.geoObjects.add(v)}}})();
//# sourceMappingURL=index.2529be7fe50d1d8fd2ed.js.map